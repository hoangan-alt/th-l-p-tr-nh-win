using System;
using System.Collections.Generic;
using System.Diagnostics.Eventing.Reader;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace lab_01
{
    internal class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("=== Chương trình doan so ===");  

            Random random = new Random();
            int tagetNumber = random.Next(100, 999);
            string tagetString = tagetNumber.ToString();

            int attempt = 1, MAX_QUESS = 7;
            string quess, feedback = "";
            while (feedback != "+++" && attempt <= MAX_QUESS)
            {
                Console.WriteLine(" Lan doan thu {0}: ", attempt);
                quess = Console.ReadLine();
                feedback = GetFeeback(tagetString, quess);
                Console.WriteLine(" Phan hoi tu may tinh: {0}", feedback);
                attempt++;

            }
            Console.WriteLine(" Nguoi choi da doan {0} lan. tro choi ket thuc!", attempt - 1);
            if (attempt > MAX_QUESS)

                Console.WriteLine(" Nguoi choi thua cuoc. So can doan la : {0}", tagetNumber);
            else
                Console.WriteLine(" Nguoi choi thang cuoc !", attempt);
            Console.ReadLine();
        }

        static string GetFeeback(string target, string quess)
        {
            string feedback = "";
            for (int i = 0; i < target.Length; i++)
            {
                if (target[i] == quess[i])
                    feedback += "+";
                else if (target.Contains(quess[i].ToString()))
                    feedback += "?";
                else
                    feedback += "x";
            }
            return feedback;    
        }

    }
}
